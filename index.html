<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>شبابيك للستائر - Shababek Curtains</title>
    <link rel="icon" type="image/png" href="https://i.ibb.co/3y1ZNCk0/1.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <style>
        :root { --gold: #d9b382; --brown: #3d2e24; --bg: #f9f6f2; --white: #ffffff; --whatsapp: #25D366; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Cairo', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--white); color: var(--brown); overflow-x: hidden; scroll-behavior: smooth; line-height: 1.6; }

        .top-banner { background: var(--brown); color: white; padding: 8px 5%; text-align: center; font-size: 13px; display: flex; justify-content: space-between; align-items: center; }
        .wa-link { color: var(--whatsapp); text-decoration: none; font-weight: bold; display: flex; align-items: center; gap: 5px; }

        header { background: var(--white); padding: 12px 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .logo-center { flex: 1; display: flex; justify-content: center; }
        .logo-img { height: 95px; cursor: pointer; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        
        .header-left { flex: 1; display: flex; justify-content: flex-end; align-items: center; gap: 20px; }
        .cart-icon { font-size: 1.6rem; position: relative; cursor: pointer; color: var(--brown); }
        .cart-count { position: absolute; top: -8px; right: -10px; background: var(--gold); color: white; font-size: 0.75rem; padding: 2px 7px; border-radius: 50%; font-weight: 900; }

        #searchBox { display: none; padding: 15px 5%; background: var(--bg); border-bottom: 1px solid #ddd; }
        #searchBox input { width: 100%; padding: 12px 20px; border-radius: 25px; border: 1px solid #ccc; outline: none; }

        .nav-bar { background: #fcfcfc; border-bottom: 1px solid #eee; padding: 12px 0; overflow-x: auto; }
        .nav-menu { display: inline-flex; gap: 30px; list-style: none; padding: 0 5%; width: 100%; justify-content: center; }
        .nav-menu a { text-decoration: none; color: var(--brown); font-weight: 700; cursor: pointer; white-space: nowrap; }

        .page { display: none; width: 100%; animation: fadeIn 0.4s ease; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .hero { height: 75vh; background: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.3)), url('https://i.ibb.co/0R1MK2d7/Gemini-Generated-Image-tnocdatnocdatnoc.png'); background-size: cover; background-position: center; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; padding: 20px; }
        .hero h1 { font-size: clamp(1.8rem, 5vw, 3.5rem); font-weight: 900; margin-bottom: 25px; text-shadow: 0 2px 15px rgba(0,0,0,0.4); }
        
        .hero-btns { display: flex; flex-direction: column; gap: 15px; width: 100%; max-width: 320px; margin-bottom: 30px; }
        .btn-gold { background: var(--gold); color: white; border: none; padding: 16px 35px; border-radius: 8px; font-weight: 900; cursor: pointer; font-size: 1.1rem; box-shadow: 0 4px 15px rgba(217,179,130,0.4); }
        .btn-trans { background: transparent; color: white; border: 2px solid white; padding: 16px 35px; border-radius: 8px; font-weight: 900; cursor: pointer; text-decoration: none; display: flex; align-items: center; justify-content: center; gap: 10px; }

        .social-hero { display: flex; gap: 22px; }
        .social-hero a { color: var(--white); font-size: 1.9rem; transition: 0.4s; }
        .social-hero a:hover { color: var(--gold); transform: translateY(-10px) scale(1.2); }

        .catalog-grid { display: flex; gap: 20px; padding: 40px 5%; overflow-x: auto; scrollbar-width: none; }
        .cat-card { flex: 0 0 280px; position: relative; border-radius: 20px; overflow: hidden; height: 380px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); cursor: pointer; }
        .cat-card img { width: 100%; height: 100%; object-fit: cover; }
        .cat-label { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); background: var(--gold); color: white; padding: 10px 25px; border-radius: 12px; font-weight: 900; }

        /* لماذا شبابيك */
        .features-section { background: var(--bg); padding: 60px 5%; text-align: center; }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 25px; max-width: 1200px; margin: auto; }
        .f-card { background: white; padding: 35px 20px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .f-icon { font-size: 2.2rem; color: var(--gold); margin-bottom: 15px; }

        /* حاسبة الهاتف المحسنة */
        .phone-calc { padding: 20px 5%; max-width: 600px; margin: auto; }
        .phone-calc img { width: 100%; border-radius: 25px; margin-bottom: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .calc-input { width: 100%; padding: 15px; border-radius: 12px; border: 1px solid #ddd; font-size: 1.1rem; margin-top: 10px; }
        .res-banner { background: var(--brown); color: white; padding: 25px; border-radius: 20px; text-align: center; font-size: 1.5rem; margin: 25px 0; }

        .about-box { max-width: 900px; margin: auto; padding: 60px 5%; text-align: justify; font-size: 1.1rem; line-height: 2; }
        .payment-card { background: white; padding: 25px; border-radius: 15px; margin-bottom: 15px; display: flex; align-items: center; gap: 20px; border: 1px solid #eee; }

        footer { background: var(--brown); color: white; padding: 60px 5% 30px; text-align: center; }
        .footer-logo { font-size: 1.8rem; font-weight: 900; color: var(--gold); margin-bottom: 15px; }

        @media (min-width: 768px) {
            .hero-btns { flex-direction: row; max-width: 700px; gap: 20px; }
            .btn-gold, .btn-trans { width: 300px; }
            .catalog-grid { justify-content: center; }
            .cat-card { flex: 0 0 22%; }
        }
    </style>
</head>
<body>

    <div class="top-banner">
        <span>شبابيك للستائر - ظل وذوق</span>
        <a href="https://wa.me/9647883002797" class="wa-link"><i class="fab fa-whatsapp"></i> تواصل عبر الواتساب</a>
    </div>

    <header>
        <div style="font-weight:900; line-height:1; flex:1;">شبابيك<br><span style="color:var(--gold); font-size:1rem;">للستائر</span></div>
        <div class="logo-center"><img src="https://i.ibb.co/3y1ZNCk0/1.png" class="logo-img" onclick="checkAdmin()"></div>
        <div class="header-left">
            <i class="fa fa-search" style="font-size:1.4rem; cursor:pointer;" onclick="toggleSearch()"></i>
            <div class="cart-icon" onclick="openCart()"><i class="fas fa-shopping-basket"></i><span class="cart-count" id="globalCartCount">0</span></div>
        </div>
    </header>

    <div id="searchBox"><input type="text" id="searchInput" placeholder="ابحث عن موديلات ستائر..." oninput="liveSearch()"></div>

    <div class="nav-bar">
        <ul class="nav-menu">
            <li><a onclick="showPage('homePage')">الرئيسية</a></li>
            <li><a onclick="showPage('doctorPage')">دكتور ديكور</a></li>
            <li><a onclick="showPage('paymentPage')">طرق الدفع</a></li>
            <li><a onclick="showPage('aboutPage')">من نحن</a></li>
            <li><a onclick="showPage('contactPage')">تواصل معنا</a></li>
        </ul>
    </div>

    <main id="mainContainer">
        <div id="homePage" class="page active">
            <section class="hero">
                <h1>فخامة التفاصيل تبدأ من شبابيك منزلك</h1>
                <div class="hero-btns">
                    <button class="btn-gold" onclick="document.getElementById('categories').scrollIntoView()">احسب سعرك الآن</button>
                    <a href="https://wa.me/9647883002797?text=استشارة مجانية بخصوص الديكور" class="btn-trans"><i class="fab fa-whatsapp"></i> استشارة مجانية</a>
                </div>
                <div class="social-hero">
                    <a href="https://www.facebook.com/profile.php?id=61587692021311" target="_blank"><i class="fab fa-facebook"></i></a>
                    <a href="https://www.instagram.com/shababek.curtains/" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.tiktok.com/@shababek.curtains" target="_blank"><i class="fab fa-tiktok"></i></a>
                    <a href="https://youtube.com/@shababek.curtains?si=KKsEbL98N0fq2e2U" target="_blank"><i class="fab fa-youtube"></i></a>
                    <a href="https://x.com/ShababekCurtain" target="_blank"><i class="fa-brands fa-x-twitter"></i></a>
                    <a href="https://www.snapchat.com/add/shababek.curtains" target="_blank"><i class="fab fa-snapchat"></i></a>
                </div>
            </section>

            <section id="categories">
                <h2 style="text-align:center; margin-top:50px; font-weight:900; font-size:2.2rem;">أقسامنا المميزة</h2>
                <div class="catalog-grid">
                    <div class="cat-card" onclick="openCat('بلاك أوت')"><img src="https://i.ibb.co/dsyqws88/curtain-blackout-BDZvwy-X3.jpg"><div class="cat-label">بلاك أوت</div></div>
                    <div class="cat-card" onclick="openCat('شفافة')"><img src="https://i.ibb.co/23ypfxBq/curtain-sheer-B6-H5y-JXx.jpg"><div class="cat-label">شفافة</div></div>
                    <div class="cat-card" onclick="openCat('ديكور')"><img src="https://i.ibb.co/JRd7B9dC/42edce8e89a20200950e110c2d8d41b2.jpg"><div class="cat-label">ديكور</div></div>
                    <div class="cat-card" onclick="openCat('رول')"><img src="https://i.ibb.co/d4GXf0HM/curtain-roller-5c189-CRe.jpg"><div class="cat-label">رول</div></div>
                </div>
            </section>

            <section class="features-section">
                <div class="features-grid">
                    <div class="f-card"><i class="fa-solid fa-shield-halved f-icon"></i><h3>ضمان الجودة</h3><p>أرقى الأقمشة مع ضمان حقيقي.</p></div>
                    <div class="f-card"><i class="fa-solid fa-truck-fast f-icon"></i><h3>تركيب منزلي</h3><p>فريق فني متخصص للتركيب.</p></div>
                    <div class="f-card"><i class="fa-solid fa-ruler-combined f-icon"></i><h3>مقاسات مخصصة</h3><p>تفصيل حسب طلبك بدقة.</p></div>
                    <div class="f-card"><i class="fa-solid fa-palette f-icon"></i><h3>تصاميم حصرية</h3><p>موديلات تناسب ذوقك الرفيع.</p></div>
                </div>
            </section>
        </div>

        <div id="productCalculator" class="page">
            <div class="phone-calc">
                <img id="pImg" src="">
                <h2 id="pName" style="font-weight:900; margin-bottom:10px;"></h2>
                <div style="color:var(--gold); font-size:1.6rem; font-weight:900; margin-bottom:20px;"><span id="pPrice"></span> د.ع / متر</div>
                <label>الطول المطلوب (بالمتر):</label>
                <input type="number" id="hIn" placeholder="مثال: 2.75" oninput="doCalc()" class="calc-input" inputmode="decimal">
                <label style="display:flex; align-items:center; gap:12px; margin:20px 0; background:var(--bg); padding:15px; border-radius:12px; font-weight:bold; cursor:pointer;"><input type="checkbox" id="instIn"> <span>أرغب في خدمة تركيب</span></label>
                <div class="res-banner">الإجمالي: <br> <span id="resPrice" style="font-size:2rem;">0</span> د.ع</div>
                <button class="btn-gold" style="width:100%;" onclick="addToCart()">إضافة المنتج للسلة</button>
            </div>
        </div>

        <div id="categoryView" class="page"><h2 id="catTitle" style="text-align:center; padding:40px 0; font-weight:900;"></h2><div id="catGrid" style="display:grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap:25px; padding:0 5%;"></div></div>

        <div id="doctorPage" class="page">
            <div style="padding: 50px 5%; max-width: 1000px; margin: auto;">
                <h2 style="margin-bottom:40px; color:var(--gold); font-weight:900;"><i class="fa-solid fa-wand-magic-sparkles"></i> نصائح دكتور ديكور</h2>
                <div style="background:white; border-radius:20px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,0.05); border-right:6px solid var(--gold); padding:25px; margin-bottom:30px;">
                    <h3>قاعدة الارتفاع المثالي</h3>
                    <p>للحصول على مظهر فندقي فاخر، قم بتركيب قضيب الستارة من السقف مباشرة بدلاً من حافة النافذة؛ هذا يعطي إيحاءً بأن الغرفة أكثر ارتفاعاً.</p>
                </div>
            </div>
        </div>

        <div id="paymentPage" class="page">
            <div style="padding: 60px 5%; max-width: 800px; margin: auto;">
                <h2 style="text-align:center; margin-bottom:40px; font-weight:900;">طرق الدفع المتوفرة</h2>
                <div class="payment-card"><i class="fa-solid fa-truck-ramp-box" style="font-size:2rem; color:var(--gold);"></i><div style="text-align:right;"><h3>الدفع عند الاستلام</h3><p>ادفع نقداً للفني المختص بعد التركيب.</p></div></div>
                <div class="payment-card"><i class="fa-solid fa-mobile-screen" style="font-size:2rem; color:var(--gold);"></i><div style="text-align:right;"><h3>زين كاش / آسيا حوالة</h3><p>تحويل سريع عبر المحفظة الإلكترونية.</p></div></div>
            </div>
        </div>

        <div id="aboutPage" class="page">
            <div class="about-box">
                <h2 style="text-align:center; font-size:2.5rem; font-weight:900; margin-bottom:40px;">شبابيك للستائر</h2>
                <p>تأسست شبابيك للستائر بهدف تقديم أفخم وأجود أنواع الستائر المنزلية في العراق. نؤمن بأن الستائر ليست مجرد قطعة قماش، بل هي عنصر أساسي في تصميم المنزل يعكس ذوق أصحابه ويضيف لمسة من الأناقة والفخامة.</p>
            </div>
        </div>

        <div id="contactPage" class="page">
            <div style="padding: 80px 5%; text-align: center; background: var(--bg); border-radius: 40px; margin: 40px 5%;">
                <h2 style="margin-bottom:30px; font-weight:900;">تواصل معنا</h2>
                <p style="font-size:1.3rem;"><i class="fa-solid fa-location-dot"></i> العراق - بغداد</p>
                <p style="font-size:1.3rem; margin:25px 0; direction:ltr;">+964 788 300 2797 <i class="fa-solid fa-phone"></i></p>
                <a href="https://wa.me/9647883002797" class="btn-gold" style="background:var(--whatsapp); text-decoration:none; display:inline-block; width:auto;">تواصل واتساب مباشر</a>
            </div>
        </div>

        <div id="adminPanel" class="page">
            <div style="max-width:600px; margin:50px auto; background:#f4f4f4; padding:30px; border-radius:15px; text-align:right;">
                <h3>إدارة السحابة</h3>
                <select id="aCat" style="width:100%; padding:12px; margin:10px 0;"><option>بلاك أوت</option><option>شفافة</option><option>ديكور</option><option>رول</option></select>
                <input type="text" id="aName" placeholder="اسم المنتج" style="width:100%; padding:12px; margin:10px 0;">
                <input type="number" id="aPrice" placeholder="السعر لكل متر" style="width:100%; padding:12px; margin:10px 0;">
                <input type="text" id="aImg" placeholder="رابط الصورة" style="width:100%; padding:12px; margin:10px 0;">
                <button class="btn-gold" style="width:100%" onclick="saveProd()">نشر المنتج</button>
                <div id="adminList" style="margin-top:20px;"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-logo">شبابيك للستائر</div>
        <p>© 2026 شبابيك: ظل وذوق - جميع الحقوق محفوظة</p>
    </footer>

    <script>
        const firebaseConfig = { apiKey: "AIzaSyD1TENeV6RkWmrYIjV6seGx84VavsM_tvE", authDomain: "shababekcurtain.firebaseapp.com", databaseURL: "https://shababekcurtain-default-rtdb.asia-southeast1.firebasedatabase.app/", projectId: "shababekcurtain" };
        firebase.initializeApp(firebaseConfig);
        const dbRef = firebase.database().ref('products');
        let cur = null; let cart = []; let adminClicks = 0;

        // نظام الـ History للرجوع السلس
        function showPage(id, push = true) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
            if(push) history.pushState({pageId: id}, null, "");
        }

        window.onpopstate = function(event) {
            if(event.state) showPage(event.state.pageId, false);
            else showPage('homePage', false);
        };

        function toggleSearch() { const b = document.getElementById('searchBox'); b.style.display = b.style.display === 'block' ? 'none' : 'block'; }
        function liveSearch() {
            const q = document.getElementById('searchInput').value.toLowerCase();
            if(q.length < 2) return;
            dbRef.once('value', snap => {
                const res = Object.values(snap.val() || {}).filter(p => p.name.toLowerCase().includes(q));
                renderGrid('نتائج البحث', res);
            });
        }

        function openCat(name) { dbRef.on('value', snap => { const items = Object.values(snap.val() || {}).filter(i => i.category === name); renderGrid('ستائر ' + name, items); }); }
        function renderGrid(title, items) {
            document.getElementById('catTitle').innerText = title;
            document.getElementById('catGrid').innerHTML = items.map(i => `<div style="background:white; border-radius:20px; overflow:hidden; box-shadow:0 8px 15px rgba(0,0,0,0.05);" onclick='openCalc(${JSON.stringify(i)})'><img src="${i.img}" style="width:100%; height:250px; object-fit:cover;"><div style="padding:15px; text-align:center;"><h3>${i.name}</h3><p style="color:var(--gold); font-weight:900;">${parseInt(i.price).toLocaleString()} د.ع / م</p></div></div>`).join('');
            showPage('categoryView');
        }

        function openCalc(p) { cur = p; document.getElementById('pName').innerText = p.name; document.getElementById('pPrice').innerText = parseInt(p.price).toLocaleString(); document.getElementById('pImg').src = p.img; document.getElementById('resPrice').innerText = "0"; document.getElementById('hIn').value = ""; document.getElementById('instIn').checked = false; showPage('productCalculator'); }
        function doCalc() { const h = document.getElementById('hIn').value; if(h) document.getElementById('resPrice').innerText = Math.round(h * cur.price).toLocaleString(); }
        function addToCart() { const h = document.getElementById('hIn').value; const t = document.getElementById('resPrice').innerText; if(!h || t === "0") return alert("أدخل الطول"); cart.push({n: cur.name, h: h, p: t}); document.getElementById('globalCartCount').innerText = cart.length; alert("تمت الإضافة للسلة!"); }
        function openCart() { if(cart.length === 0) return alert("السلة فارغة"); let msg = "طلب جديد من شبابيك:\n"; cart.forEach(i => msg += `- ${i.n}: ${i.p}د.ع\n`); window.location.href = `https://wa.me/9647883002797?text=${encodeURIComponent(msg)}`; }

        function checkAdmin() { adminClicks++; if(adminClicks >= 5) { const p = prompt("الرمز:"); if(p === "1234") showPage('adminPanel'); adminClicks = 0; } }
        function saveProd() { const n = document.getElementById('aName').value, p = document.getElementById('aPrice').value, im = document.getElementById('aImg').value, c = document.getElementById('aCat').value; if(!n || !p || !im) return alert("أكمل البيانات"); dbRef.push({ id: Date.now(), category: c, name: n, price: p, img: im }).then(() => { alert("تم!"); showAdminList(); }); }
        function showAdminList() { dbRef.once('value', snap => { const items = Object.entries(snap.val() || {}); document.getElementById('adminList').innerHTML = items.map(([k, i]) => `<div>${i.name} <button onclick="delProd('${k}')">حذف</button></div>`).join(''); }); }
        function delProd(k) { if(confirm("حذف؟")) dbRef.child(k).remove().then(() => showAdminList()); }
    </script>
</body>
</html>
